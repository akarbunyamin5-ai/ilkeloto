<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>İlan Ver | İlkel Oto</title>

<style>
body{
  font-family: Arial, sans-serif;
  background:#f2f2f2;
  margin:0;
  padding:20px;
}
.container{
  max-width:700px;
  margin:auto;
  background:#fff;
  padding:25px;
  border-radius:6px;
}
h2{
  border-bottom:2px solid #eee;
  padding-bottom:10px;
}
.section{
  margin-top:25px;
}
label{
  display:block;
  margin-top:12px;
  font-weight:bold;
}
input, textarea, select{
  width:100%;
  padding:10px;
  margin-top:5px;
  box-sizing:border-box;
}
textarea{
  min-height:120px;
  resize:vertical;
}
button{
  margin-top:25px;
  padding:12px;
  width:100%;
  background:#000;
  color:#fff;
  border:none;
  cursor:pointer;
  font-size:16px;
}
#msg{
  margin-top:15px;
  font-weight:bold;
}
</style>
</head>
<body>

<div class="container">
  <h2>İlan Ver</h2>

  <!-- ARAÇ BİLGİLERİ -->
  <div class="section">
    <h3>Araç Bilgileri</h3>

    <label>Marka</label>
    <input id="marka">

    <label>Model</label>
    <input id="model">

    <label>Yıl</label>
    <input id="yil" type="number">

    <label>Kilometre</label>
    <input id="km" type="number">

    <label>Yakıt</label>
    <select id="yakit">
      <option value="">Seçiniz</option>
      <option>Benzin</option>
      <option>Dizel</option>
      <option>LPG</option>
      <option>Hibrit</option>
      <option>Elektrik</option>
    </select>

    <label>Vites</label>
    <select id="vites">
      <option value="">Seçiniz</option>
      <option>Manuel</option>
      <option>Otomatik</option>
      <option>Yarı Otomatik</option>
    </select>
  </div>

  <!-- FİYAT -->
  <div class="section">
    <h3>Fiyat</h3>

    <label>Fiyat (₺)</label>
    <input id="fiyat" type="number">
  </div>

  <!-- EKSPERTİZ -->
  <div class="section">
    <h3>Ekspertiz Bilgisi</h3>

    <label>Ekspertiz Durumu</label>
    <select id="ekspertiz">
      <option value="">Seçiniz</option>
      <option>Ekspertiz Yok</option>
      <option>Ekspertiz Var - Temiz</option>
      <option>Ekspertiz Var - Boyalı Parça</option>
      <option>Ekspertiz Var - Değişen Parça</option>
    </select>
  </div>

  <!-- AÇIKLAMA -->
  <div class="section">
    <h3>Açıklama</h3>

    <textarea id="aciklama" placeholder="Aracın durumu, bakımları, ekstra bilgileri..."></textarea>
  </div>

  <button onclick="kaydet()">İlanı Yayına Gönder</button>
  <div id="msg"></div>
</div>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
import { getFirestore, addDoc, collection } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

const firebaseConfig = {
  apiKey: "AIzaSyDp3wjVF9w3MTFt0B1o4Jcdc_H9nvlqSY8",
  authDomain: "ilkeloto.firebaseapp.com",
  projectId: "ilkeloto"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

window.kaydet = async function(){

  if(
    !marka.value || !model.value || !yil.value ||
    !km.value || !yakit.value || !vites.value ||
    !fiyat.value || !ekspertiz.value || !aciklama.value
  ){
    msg.innerText = "Lütfen tüm alanları doldurun";
    msg.style.color = "red";
    return;
  }

  await addDoc(collection(db,"ilanlar"),{
    marka: marka.value,
    model: model.value,
    yil: Number(yil.value),
    km: Number(km.value),
    yakit: yakit.value,
    vites: vites.value,
    fiyat: Number(fiyat.value),
    ekspertiz: ekspertiz.value,
    aciklama: aciklama.value,
    durum: "beklemede",
    tarih: new Date()
  });

  msg.innerText = "İlan gönderildi, admin onayı bekleniyor";
  msg.style.color = "green";
};
</script>

</body>
</html>
