<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>İlan Ekle</title>
<style>
body{
  font-family: Arial;
  background:#f5f5f5;
  margin:0;
  padding:30px;
}
.box{
  background:#fff;
  max-width:400px;
  margin:auto;
  padding:20px;
  border-radius:6px;
}
input, button{
  width:100%;
  padding:10px;
  margin-top:10px;
}
button{
  background:#000;
  color:#fff;
  border:none;
  cursor:pointer;
}
</style>
</head>
<body>

<div class="box">
  <h2>İlan Ekle</h2>

  <input id="marka" placeholder="Marka">
  <input id="model" placeholder="Model">
  <input id="yil" type="number" placeholder="Yıl">
  <input id="fiyat" type="number" placeholder="Fiyat">

  <button onclick="kaydet()">İlanı Gönder</button>
  <p id="msg"></p>
</div>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
import { getFirestore, addDoc, collection } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

const firebaseConfig = {
  apiKey: "AIzaSyDp3wjVF9w3MTFt0B1o4Jcdc_H9nvlqSY8",
  authDomain: "ilkeloto.firebaseapp.com",
  projectId: "ilkeloto"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

window.kaydet = async function(){
  if(!marka.value || !model.value || !yil.value || !fiyat.value){
    msg.innerText = "Tüm alanları doldur";
    return;
  }

  await addDoc(collection(db,"ilanlar"),{
    marka: marka.value,
    model: model.value,
    yil: Number(yil.value),
    fiyat: Number(fiyat.value),
    durum: "beklemede"
  });

  msg.innerText = "İlan gönderildi (onay bekliyor)";
  marka.value = model.value = yil.value = fiyat.value = "";
};
</script>

</body>
</html>
