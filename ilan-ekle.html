<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>İlan Ver</title>

<style>
body {
  font-family: Arial, sans-serif;
  background:#f5f5f5;
  margin:0;
}

.container {
  max-width:900px;
  margin:40px auto;
  background:#fff;
  padding:30px;
  border-radius:8px;
}

h1 {
  margin-bottom:20px;
}

input {
  width:100%;
  padding:12px;
  font-size:16px;
  margin-bottom:20px;
}

.markalar {
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(120px,1fr));
  gap:15px;
}

.marka {
  border:1px solid #ddd;
  padding:10px;
  text-align:center;
  cursor:pointer;
  border-radius:6px;
  transition:0.2s;
}

.marka:hover {
  border-color:#000;
}

.marka img {
  max-width:70px;
  height:50px;
  object-fit:contain;
}

.secili {
  border:2px solid green;
}
</style>
</head>

<body>

<div class="container">
  <h1>İlan Ver</h1>

  <input id="ara" placeholder="Marka ara...">

  <div class="markalar" id="markalar"></div>

  <p><b>Seçilen Marka:</b> <span id="secili">Yok</span></p>
</div>

<script>
let tumMarkalar = [];
const alan = document.getElementById("markalar");
const seciliYazi = document.getElementById("secili");

fetch("/data/markalar.json")
  .then(r => r.json())
  .then(d => {
    tumMarkalar = d;
    ciz(d);
  });

function ciz(liste) {
  alan.innerHTML = "";
  liste.forEach(m => {
    const div = document.createElement("div");
    div.className = "marka";
    div.innerHTML = `
      <img src="/logos/${m.logo}">
      <div>${m.ad}</div>
    `;
    div.onclick = () => sec(div, m.ad);
    alan.appendChild(div);
  });
}

function sec(div, ad) {
  document.querySelectorAll(".marka").forEach(x => x.classList.remove("secili"));
  div.classList.add("secili");
  seciliYazi.innerText = ad;
}

document.getElementById("ara").oninput = e => {
  const q = e.target.value.toLowerCase();
  ciz(tumMarkalar.filter(m => m.ad.toLowerCase().includes(q)));
};
</script>

</body>
</html>
