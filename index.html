<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>İLKEL OTO</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>

body{margin:0;font-family:Arial;background:#f3f3f3}

/* HEADER */
header{
background:#000;
color:#fff;
padding:15px 20px
}

/* LAYOUT */
.container{
display:flex;
padding:15px;
gap:15px
}

/* FILTER PANEL */
.filter{
width:260px;
background:#fff;
padding:15px;
border-radius:6px
}

.filter select,
.filter input{
width:100%;
padding:8px;
margin-bottom:10px
}

/* CONTENT */
.content{
flex:1
}

/* GRID */
.grid{
display:grid;
grid-template-columns:repeat(auto-fill,minmax(250px,1fr));
gap:15px
}

/* CARD */
.card{
background:#fff;
padding:15px;
border-radius:6px
}

.price{
color:green;
font-weight:bold
}

</style>
</head>

<body>

<header>
<h2>İLKEL OTO</h2>
<p>Onaylı Sahibinden İlanlar</p>
</header>

<div class="container">

<!-- SOL FİLTRE -->
<div class="filter">

<select id="category">
<option value="">Kategori</option>
<option value="Otomobil">Otomobil</option>
<option value="Ticari">Ticari</option>
</select>

<select id="brand">
<option value="">Marka</option>
</select>

<select id="model">
<option value="">Model</option>
</select>

<input type="number" id="minPrice" placeholder="Min Fiyat">
<input type="number" id="maxPrice" placeholder="Max Fiyat">

<button onclick="filter()">Filtrele</button>

</div>

<!-- SAĞ LİSTE -->
<div class="content">
<div id="list" class="grid"></div>
</div>

</div>

<script>

/* ÖRNEK VERİ (GERÇEK VERİ SONRA BAĞLANACAK) */
const data = [
{cat:"Otomobil",brand:"Fiat",model:"Egea",price:650000},
{cat:"Otomobil",brand:"Renault",model:"Clio",price:600000},
{cat:"Ticari",brand:"Ford",model:"Courier",price:700000}
];

const brandSel=document.getElementById("brand");
const modelSel=document.getElementById("model");
const list=document.getElementById("list");

/* MARKA DOLDUR */
function loadBrands(){
let brands=[...new Set(data.map(i=>i.brand))];
brands.forEach(b=>{
let o=document.createElement("option");
o.value=b;
o.text=b;
brandSel.add(o);
});
}

/* MODEL DOLDUR */
brandSel.onchange=()=>{
modelSel.innerHTML="<option value=''>Model</option>";
let models=data.filter(i=>i.brand==brandSel.value)
.map(i=>i.model);
[...new Set(models)].forEach(m=>{
let o=document.createElement("option");
o.value=m;
o.text=m;
modelSel.add(o);
});
};

/* LİSTELE */
function show(arr){
list.innerHTML="";
arr.forEach(i=>{
list.innerHTML+=`
<div class="card">
<b>${i.brand} ${i.model}</b><br>
<div class="price">${i.price} ₺</div>
</div>`;
});
}

/* FİLTRE */
function filter(){

let min=+minPrice.value||0;
let max=+maxPrice.value||99999999;

let result=data.filter(i=>
(!category.value||i.cat==category.value)&&
(!brand.value||i.brand==brand.value)&&
(!model.value||i.model==model.value)&&
(i.price>=min&&i.price<=max)
);

show(result);
}

/* İLK YÜKLEME */
loadBrands();
show(data);

</script>

</body>
</html>
