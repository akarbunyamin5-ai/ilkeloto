<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>İLKEL OTO</title>

<style>
body {font-family:Arial;margin:0;background:#f2f2f2}
header{background:#000;color:#fff;padding:15px}
.container{display:flex;padding:15px}
.sidebar{width:240px;background:#fff;padding:15px;border-radius:6px}
.content{flex:1;margin-left:15px}
select,input{width:100%;padding:8px;margin-bottom:10px}
.grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:15px}
.card{background:#fff;padding:15px;border-radius:6px}
.price{color:green;font-weight:bold}
</style>

</head>
<body>

<header>
<h2>İLKEL OTO</h2>
<p>Onaylı Sahibinden İlanlar</p>
</header>

<div class="container">

<div class="sidebar">

<select id="brand">
<option value="">Marka Seç</option>
</select>

<select id="model">
<option value="">Model Seç</option>
</select>

<input type="number" id="minPrice" placeholder="Min Fiyat">
<input type="number" id="maxPrice" placeholder="Max Fiyat">

<button onclick="filter()">Filtrele</button>

</div>

<div class="content">
<div id="listings" class="grid"></div>
</div>

</div>

<script>

const data = [
{brand:"Fiat",model:"Brava",year:2001,km:150000,price:250000},
{brand:"Fiat",model:"Linea",year:2012,km:90000,price:420000},
{brand:"Renault",model:"Megane",year:2018,km:60000,price:690000},
{brand:"Renault",model:"Clio",year:2016,km:80000,price:390000}
];

const brandSelect = document.getElementById("brand");
const modelSelect = document.getElementById("model");
const listings = document.getElementById("listings");

const brands = [...new Set(data.map(i=>i.brand))];

brands.forEach(b=>{
let o=document.createElement("option");
o.value=b;
o.text=b;
brandSelect.add(o);
});

brandSelect.onchange = ()=>{
modelSelect.innerHTML="<option value=''>Model Seç</option>";
const models = data.filter(i=>i.brand==brandSelect.value)
.map(i=>i.model);
[...new Set(models)].forEach(m=>{
let o=document.createElement("option");
o.value=m;
o.text=m;
modelSelect.add(o);
});
};

function show(list){
listings.innerHTML="";
list.forEach(i=>{
listings.innerHTML+=`
<div class="card">
<b>${i.brand} ${i.model}</b><br>
Yıl: ${i.year}<br>
KM: ${i.km}<br>
<div class="price">${i.price} ₺</div>
</div>`;
});
}

function filter(){
let min=+minPrice.value||0;
let max=+maxPrice.value||99999999;

let result = data.filter(i=>
(!brand.value||i.brand==brand.value)&&
(!model.value||i.model==model.value)&&
(i.price>=min&&i.price<=max)
);

show(result);
}

show(data);

</script>

</body>
</html>
