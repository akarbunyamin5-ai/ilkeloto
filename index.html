<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>İLKEL OTO</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
body{margin:0;font-family:Arial;background:#f2f2f2}
header{background:#ffde00;padding:12px}
.container{display:flex;padding:10px}
.filter{width:260px;background:#fff;padding:10px;border-radius:6px}
.filter select,.filter input{width:100%;padding:8px;margin-bottom:8px}
.content{flex:1;margin-left:10px}
.grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:10px}
.card{background:#fff;border:1px solid #ddd;border-radius:6px;padding:10px;cursor:pointer}
.card img{width:100%;height:160px;object-fit:cover}
.price{color:green;font-weight:bold;font-size:18px}
</style>
</head>

<body>

<header>
<h2>İLKEL OTO</h2>
</header>

<div class="container">

<div class="filter">
<input id="keyword" placeholder="Ara">
<button onclick="filter()">Ara</button>
</div>

<div class="content">
<div id="list" class="grid"></div>
</div>

</div>

<script>

let data = JSON.parse(localStorage.getItem("cars")) || [];
const list=document.getElementById("list");

function show(arr){
list.innerHTML="";
arr.forEach(i=>{
list.innerHTML+=`
<div class="card" onclick="goDetail(${i.id})">
<img src="${i.images[0]}">
<b>${i.brand} ${i.model}</b><br>
${i.year} | ${i.km} KM<br>
<div class="price">${i.price} ₺</div>
</div>
`;
});
}

function goDetail(id){
window.location.href="ilan.html?id="+id;
}

function filter(){
let key=keyword.value.toLowerCase();
let result=data.filter(i=>
i.brand.toLowerCase().includes(key)||
i.model.toLowerCase().includes(key)
);
show(result);
}

show(data);

</script>

</body>
</html>
