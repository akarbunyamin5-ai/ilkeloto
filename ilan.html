<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>İlan Detayı - İLKEL OTO</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>

body{
margin:0;
font-family:Arial;
background:#f2f2f2;
}

header{
background:black;
color:white;
padding:15px;
font-size:20px;
font-weight:bold;
}

.container{
max-width:900px;
margin:auto;
padding:15px;
}

.card{
background:white;
border-radius:8px;
overflow:hidden;
box-shadow:0 2px 6px rgba(0,0,0,0.1);
}

.card img{
width:100%;
height:350px;
object-fit:cover;
}

.content{
padding:15px;
}

.price{
font-size:26px;
font-weight:bold;
color:green;
margin:10px 0;
}

.info{
display:grid;
grid-template-columns:repeat(auto-fit,minmax(150px,1fr));
gap:10px;
margin-top:10px;
}

.info div{
background:#f7f7f7;
padding:10px;
border-radius:6px;
text-align:center;
font-weight:bold;
}

.back{
margin-top:15px;
display:inline-block;
text-decoration:none;
color:black;
font-weight:bold;
}

</style>
</head>

<body>

<header>
İLKEL OTO — İlan Detayı
</header>

<div class="container">

<div class="card">

<img id="photo">

<div class="content">

<h2 id="title"></h2>

<div class="price" id="price"></div>

<div class="info">
<div>Yıl<br><span id="year"></span></div>
<div>KM<br><span id="km"></span></div>
<div>Marka<br><span id="brand"></span></div>
<div>Model<br><span id="model"></span></div>
</div>

<a class="back" href="index.html">← Geri Dön</a>

</div>

</div>

</div>

<script type="module">

import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
import { getFirestore, collection, getDocs } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

const firebaseConfig = {
apiKey: "AIzaSyDp3wjVf9w3MTFt0B1o4Jcdc_H9nvlqSY8",
authDomain: "ilkeloto.firebaseapp.com",
projectId: "ilkeloto",
storageBucket: "ilkeloto.appspot.com",
messagingSenderId: "503658235063",
appId: "1:503658235063:web:e271d2bc989be290b97932"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

// URL ID OKU
const params = new URLSearchParams(window.location.search);
const id = params.get("id");

async function loadDetail(){

const snap = await getDocs(collection(db,"cars"));

snap.forEach(doc=>{

if(doc.id === id){

const car = doc.data();

photo.src = car.image;
title.innerText = car.brand + " " + car.model;
price.innerText = car.price + " ₺";
year.innerText = car.year;
km.innerText = car.km;
brand.innerText = car.brand;
model.innerText = car.model;

}

});

}

loadDetail();

</script>

</body>
</html>
