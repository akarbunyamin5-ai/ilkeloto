<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>Admin Panel</title>

<style>
.ilan {
  border: 1px solid #ccc;
  padding: 10px;
  margin-bottom: 10px;
}

.bekliyor { color: orange; font-weight: bold; }
.onaylandi { color: green; font-weight: bold; }
.reddedildi { color: red; font-weight: bold; }

button {
  margin-right: 5px;
}
</style>
</head>

<body>

<h1>Admin Panel</h1>
<p>Gelen ilanlar (onayla / reddet / sil)</p>

<button onclick="tumunuSil()">ğŸ—‘ TÃœM Ä°LANLARI SÄ°L</button>
<hr>

<div id="liste"></div>

<script>
let ilanlar = JSON.parse(localStorage.getItem("ilanlar")) || [];

function render() {
  const liste = document.getElementById("liste");
  liste.innerHTML = "";

  ilanlar.forEach((i, index) => {
    let renk = "bekliyor";
    let durumYazi = "â³ Bekliyor";

    if (i.durum === "onaylandi") {
      renk = "onaylandi";
      durumYazi = "âœ… OnaylandÄ±";
    }
    if (i.durum === "reddedildi") {
      renk = "reddedildi";
      durumYazi = "âŒ Reddedildi";
    }

    liste.innerHTML += `
      <div class="ilan">
        <b>${i.marka} ${i.model}</b><br>
        YÄ±l: ${i.yil}<br>
        KM: ${i.km}<br>
        Fiyat: ${i.fiyat} â‚º<br>
        Telefon: ${i.tel}<br>
        Durum: <span class="${renk}">${durumYazi}</span><br><br>

        <button onclick="onayla(${index})">Onayla</button>
        <button onclick="reddet(${index})">Reddet</button>
        <button onclick="sil(${index})">Sil</button>
      </div>
    `;
  });
}

function onayla(i) {
  ilanlar[i].durum = "onaylandi";
  kaydet();
}

function reddet(i) {
  ilanlar[i].durum = "reddedildi";
  kaydet();
}

function sil(i) {
  if (confirm("Ä°lan silinsin mi?")) {
    ilanlar.splice(i, 1);
    kaydet();
  }
}

function tumunuSil() {
  if (confirm("TÃœM ilanlar silinsin mi?")) {
    ilanlar = [];
    kaydet();
  }
}

function kaydet() {
  localStorage.setItem("ilanlar", JSON.stringify(ilanlar));
  render();
}

render();
</script>

</body>
</html>
