<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>Admin Panel</title>
</head>
<body>

<script>
const sifre = "1234";
const girilen = prompt("Admin panel ÅŸifresi:");

if (girilen !== sifre) {
  alert("HatalÄ± ÅŸifre!");
  window.location.href = "index.html";
}
</script>

<h1>Admin Panel</h1>
<button onclick="tumunuSil()">ðŸ—‘ TÃœM Ä°LANLARI SÄ°L</button>
<hr>

<div id="liste"></div>

<script>
let ilanlar = JSON.parse(localStorage.getItem("ilanlar")) || [];
const liste = document.getElementById("liste");

function goster() {
  liste.innerHTML = "";
  ilanlar.forEach((i, index) => {
    const div = document.createElement("div");
    div.innerHTML = `
      <b>${i.marka} ${i.model}</b><br>
      YÄ±l: ${i.yil}<br>
      KM: ${i.km}<br>
      Fiyat: ${i.fiyat} â‚º<br>
      Telefon: ${i.tel}<br>
      Durum: ${i.durum}<br>
      <button onclick="onayla(${index})">Onayla</button>
      <button onclick="sil(${index})">Sil</button>
      <hr>
    `;
    liste.appendChild(div);
  });
}

function onayla(i) {
  ilanlar[i].durum = "onayli";
  localStorage.setItem("ilanlar", JSON.stringify(ilanlar));
  goster();
}

function sil(i) {
  ilanlar.splice(i, 1);
  localStorage.setItem("ilanlar", JSON.stringify(ilanlar));
  goster();
}

function tumunuSil() {
  if (confirm("TÃ¼m ilanlar silinsin mi?")) {
    localStorage.removeItem("ilanlar");
    ilanlar = [];
    goster();
  }
}

goster();
</script>

</body>
</html>
