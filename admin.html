<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>Admin Panel</title>
<style>
  body { font-family: Arial; }
  .ilan {
    border: 1px solid #ccc;
    padding: 10px;
    margin-bottom: 15px;
  }
  button { margin-right: 5px; }
</style>
</head>
<body>

<h1>Admin Panel</h1>
<p>Gelen ilanlar (onayla / sil)</p>

<button onclick="tumunuSil()">üóë T√úM ƒ∞LANLARI Sƒ∞L</button>
<hr>

<div id="ilanlar"></div>

<script>
function listele() {
  let alan = document.getElementById("ilanlar");
  alan.innerHTML = "";

  let ilanlar = JSON.parse(localStorage.getItem("ilanlar")) || [];

  if (ilanlar.length === 0) {
    alan.innerHTML = "<p>Hen√ºz ilan yok.</p>";
    return;
  }

  ilanlar.forEach((i, index) => {
    let div = document.createElement("div");
    div.className = "ilan";

    div.innerHTML = `
      <strong>${i.marka} ${i.model}</strong><br>
      Yƒ±l: ${i.yil}<br>
      KM: ${i.km}<br>
      Fiyat: ${i.fiyat} ‚Ç∫<br>
      Telefon: ${i.telefon}<br>
      Durum: ${i.onay ? "‚úÖ Onaylandƒ±" : "‚è≥ Bekliyor"}<br><br>
      <button onclick="onayla(${index})">Onayla</button>
      <button onclick="sil(${index})">Sil</button>
    `;

    alan.appendChild(div);
  });
}

function onayla(index) {
  let ilanlar = JSON.parse(localStorage.getItem("ilanlar")) || [];
  ilanlar[index].onay = true;
  localStorage.setItem("ilanlar", JSON.stringify(ilanlar));
  listele();
}

function sil(index) {
  let ilanlar = JSON.parse(localStorage.getItem("ilanlar")) || [];
  ilanlar.splice(index, 1);
  localStorage.setItem("ilanlar", JSON.stringify(ilanlar));
  listele();
}

function tumunuSil() {
  if (confirm("T√ºm ilanlar silinsin mi?")) {
    localStorage.removeItem("ilanlar");
    listele();
  }
}

listele();
</script>

</body>
</html>
