<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Admin</title>
<style>
body{font-family:Arial;background:#eee}
.container{max-width:900px;margin:30px auto;background:#fff;padding:20px}
.card{border:1px solid #ccc;padding:10px;margin-bottom:10px}
</style>
</head>
<body>

<div class="container">
<h2>Bekleyen İlanlar</h2>
<div id="liste"></div>
</div>

<script type="module">
import{initializeApp}from"https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
import{getFirestore,collection,query,where,getDocs,updateDoc,doc}from"https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

const app=initializeApp({
 apiKey:"API_KEY",
 authDomain:"PROJECT.firebaseapp.com",
 projectId:"PROJECT"
});
const db=getFirestore(app);

const q=query(collection(db,"ilanlar"),where("durum","==","beklemede"));
const snap=await getDocs(q);
const alan=document.getElementById("liste");

snap.forEach(d=>{
 const x=d.data();
 const div=document.createElement("div");
 div.className="card";
 div.innerHTML=`
 <b>${x.marka} ${x.model}</b><br>
 ${x.fiyat} ₺<br>
 <button>Onayla</button>
 `;
 div.querySelector("button").onclick=async()=>{
  await updateDoc(doc(db,"ilanlar",d.id),{durum:"onayli"});
  div.remove();
 };
 alan.appendChild(div);
});
</script>

</body>
</html>
