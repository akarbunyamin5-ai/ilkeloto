<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <title>Admin Panel - İlkel Oto</title>
</head>
<body>

<h1>Admin Panel</h1>
<p>Gelen ilanlar (onayla / sil)</p>

<div id="ilanlar"></div>

<script>
let ilanlar = JSON.parse(localStorage.getItem("ilanlar")) || [];
let alan = document.getElementById("ilanlar");

if (ilanlar.length === 0) {
  alan.innerHTML = "<p>Hiç ilan yok.</p>";
}

ilanlar.forEach((ilan, index) => {
  alan.innerHTML += `
    <div style="border:1px solid #ccc; padding:10px; margin-bottom:10px">
      <strong>${ilan.marka} ${ilan.model}</strong><br>
      Yıl: ${ilan.yil}<br>
      KM: ${ilan.km}<br>
      Fiyat: ${ilan.fiyat} ₺<br>
      Telefon: ${ilan.telefon}<br>
      Durum: ${ilan.onay ? "✅ Onaylı" : "⏳ Bekliyor"}<br><br>

      ${ilan.onay ? "" : `<button onclick="onayla(${index})">Onayla</button>`}
      <button onclick="sil(${index})">Sil</button>
    </div>
  `;
});

function onayla(index) {
  ilanlar[index].onay = true;
  localStorage.setItem("ilanlar", JSON.stringify(ilanlar));
  location.reload();
}

function sil(index) {
  ilanlar.splice(index, 1);
  localStorage.setItem("ilanlar", JSON.stringify(ilanlar));
  location.reload();
}
</script>

</body>
</html>
