<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<title>İLKEL OTO ADMIN</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>

body{
margin:0;
font-family:Arial;
background:#111;
color:white;
display:flex;
justify-content:center;
align-items:center;
height:100vh;
}

.panel{
background:#222;
padding:25px;
border-radius:10px;
width:320px;
}

.panel h2{
text-align:center;
margin-bottom:15px;
}

input{
width:100%;
padding:10px;
margin-bottom:10px;
border-radius:6px;
border:none;
}

button{
width:100%;
padding:12px;
background:#00c853;
border:none;
border-radius:6px;
font-weight:bold;
cursor:pointer;
}

button:hover{
opacity:0.9;
}

.msg{
text-align:center;
margin-top:10px;
color:#00ff90;
}

</style>
</head>

<body>

<div class="panel">

<h2>İlan Ekle</h2>

<input id="brand" placeholder="Marka (Fiat, Renault)">
<input id="model" placeholder="Model (Linea, Megane)">
<input id="year" type="number" placeholder="Yıl">
<input id="km" type="number" placeholder="Kilometre">
<input id="price" type="number" placeholder="Fiyat">

<button onclick="saveCar()">Kaydet</button>

<div class="msg" id="msg"></div>

</div>

<!-- FIREBASE -->

<script type="module">

import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
import { getFirestore, collection, addDoc } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

const firebaseConfig = {
apiKey: "AIzaSyDp3wjVf9w3MTFt0B1o4Jcdc_H9nvlqSY8",
authDomain: "ilkeloto.firebaseapp.com",
projectId: "ilkeloto",
storageBucket: "ilkeloto.appspot.com",
messagingSenderId: "503658235063",
appId: "1:503658235063:web:e271d2bc989be290b97932"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);

window.saveCar = async function(){

const brand = document.getElementById("brand").value;
const model = document.getElementById("model").value;
const year = document.getElementById("year").value;
const km = document.getElementById("km").value;
const price = document.getElementById("price").value;

if(!brand || !model || !year || !km || !price){
alert("Tüm alanları doldur");
return;
}

await addDoc(collection(db,"cars"),{
brand,
model,
year:Number(year),
km:Number(km),
price:Number(price),
created:new Date()
});

document.getElementById("msg").innerText="İlan başarıyla eklendi";

document.getElementById("brand").value="";
document.getElementById("model").value="";
document.getElementById("year").value="";
document.getElementById("km").value="";
document.getElementById("price").value="";

}

</script>

</body>
</html>
